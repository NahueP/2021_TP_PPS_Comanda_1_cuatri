<ion-header>
  <ion-toolbar>
    <ion-title align="center">Cuenta</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()">Cerrar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  
    <ion-list *ngFor="let prod of this.listaProductosFiltrados">
      <ion-item>
        <ion-avatar slot="start">
          <img src={{prod.fotoUno}}>
        </ion-avatar>
        <ion-label>
          <!--h3 style="position: relative; text-align: end;"><ion-badge color="warning" *ngIf="this.mesaEncontrada.gano2 && prod.tipo=='bebida'">Una bebida regalada!</ion-badge></h3>
          <h3 style="position: relative; text-align: end;"><ion-badge color="warning" *ngIf="this.mesaEncontrada.gano3 && prod.tipo=='postre'">Un postre regalado!</ion-badge></h3-->
          <h3>{{prod.nombre}}</h3>
          <p>Cantidad: {{prod.cantidad}}</p>
          <p>Precio Unitario: ${{prod.precio}}</p>
          <h3 style="position: relative; text-align: end;">Precio Total: ${{prod.precio * prod.cantidad}}</h3>
        </ion-label>
      </ion-item>
      
    </ion-list>
    <ion-list>
      <ion-item>
        <ion-label *ngIf="this.mesaEncontrada != null">
          <h2>Descuentos ganados en Juegos:</h2>
          <h3 *ngIf="this.mesaEncontrada.gano1">Gano un 10% de descuento en el precio Total</h3>
          <h3 *ngIf="this.mesaEncontrada.gano2">Gano una bebida Gratis!</h3>
          <h3 *ngIf="this.mesaEncontrada.gano3">Gano un postre Gratis!</h3>
          <h3 *ngIf="!this.mesaEncontrada.gano1 && !this.mesaEncontrada.gano2 && !this.mesaEncontrada.gano3">No gano ningun descuento</h3>
          <p>Los descuentos ya estan aplicados al precio total.</p>
        </ion-label>
      </ion-item>
      <ion-item *ngIf="this.satisfaccion != ''">
        <ion-label>
          <ion-text>Satisfacci√≥n elegida: {{this.satisfaccion}}</ion-text>
          <p>La propina sera del {{this.porcentaje}}% del precio total.</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>Total:</ion-label>
        <ion-label style="text-align: end; position: relative;">${{this.precioTotal}}</ion-label>
      </ion-item>
    </ion-list>
    <ion-button color="warning" expand="block" (click)="CargarOpciones()">Agregar Propina</ion-button>
    <ion-button color="success" expand="block" (click)="presentAlertConfirm()">Pagar</ion-button>
</ion-content>
